<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./css/ask.css">
    <link rel="icon" href="/Photos-001/icon.png">
    <link rel="stylesheet" href="../css files/spinner.css">
    <title>Generate</title>
</head>
<body>
    <section class="container">
        <nav class="first_nav">
            <div class="icon_st">
              <a href="./index.html">   <img src="./images/logo.png" alt="my gigantic logo"></a>
           
            </div>
            <hr class="sep">
            <div class="icon_th">
             <a href="#">
    <span class="icon now"><img src="./images/icons/sliders.svg" style="transform: rotate(90deg); filter: invert(31%) sepia(19%) saturate(2994%) hue-rotate(54deg) brightness(129%) contrast(103%);" alt=""></span>
             </a>
            </div>
            <div class="icon_th">
              <a href="#">
                <span class="icon"><img src="./images/icons/cpu.svg" alt=""> </span>
              </a>
            </div>
            <div class="icon_th">
             <a href="#"> 
              <span class="icon"> <img src="./images/icons/award.svg" alt=""></span>
             </a>
            </div>
            <div class="icon_th">
             <a href="#">
              <span><img src="./images/icons/message-square.svg" alt=""></span>
             </a>
            </div>
            <div class="icon_th">
              <a href="#">
                <span><img src="./images/icons/star.svg" alt=""></span>
              </a>
            </div>
            <div class="icon_th">
              <a href="#">
           <span><img src="./images/icons/settings.svg" alt=""> </span>
              </a>
            </div>  
            <div class="icon_th">
              <a href="#">
           <span><img src="./images/icons/help-circle.svg" alt=""> </span>
              </a>
            </div> 
          </nav>
          <nav class="second_nav">
              <div class="directive_search">
                <span class="send"><i class="fa fa-paper-plane-o" aria-hidden="true"></i></span>
                  <input type="text" name="search" id="search" placeholder="Search here">
              </div>
              <div class="directive">
              <a href="" class="dir" style="color: #58b908;"><em>Ask Anything here.</em></a> 
              </div>
              <div class="directive">
                <a href="" class="dir">Image Generator</a> 
              </div>
              <div class="directive">
                    <a href="" class="dir">Content Writer</a> 
              </div>
              <div class="directive">
                <a href="" class="dir">Code Generator</a> 
              </div>
              <div class="directive">
                  <a href="" class="dir">Translate Anything</a> 
              </div>
              <div class="directive">
                      <a href="" class="dir">Socail Media</a> 
              </div>
              <div class="directive">
                <a href="" class="dir">Email Generator</a> 
                </div>
                <div class="directive">
                  <a href="" class="dir">Personal Advice</a> 
                </div>
                <div class="directive">
                      <a href="" class="dir">Password Generator</a> 
                </div>
                <div class="directive">
                  <a href="" class="dir">Plot Generator</a> 
                </div>
                <div class="directive">
                    <a href="" class="dir">Essay Writer</a> 
                </div>
                <div class="directive">
                    <a href="" class="dir">Story Writer</a> 
                </div>
                <div class="directive">
                    <a href="" class="dir">Article Writer</a> 
                </div>
                <div class="directive">
                    <a href="" class="dir"> Paraphraser</a> 
                </div>
                <div class="directive">
                    <a href="" class="dir">Report Generator</a> 
                </div>

          </nav>
          <nav class="main_view">
            <div class="top-description">
                <p class="text">Ask Anything</p>
                <div class="bttn">
                  <img src="./images/icons/address-book.svg" alt="">
                </div>
                <div class="btn">
                    <p class="btn-text"><img src="./images/icons/award.svg" alt="Premium"> Get Premium</p>
                </div>
            </div>
    <hr class="separator">

    
      <nav class="response-container">
        <div class="icon-bot">
              <img src="./images/logo.png" alt="my gigantic logo">
         </div>
         <div class="response" id="answer"></div>
      </nav>
          <div class="chat-container" id="chat-container">
            <!-- Initial welcome message -->
            <div class="message bot-message" id="initial-message">
              <div class="message-sender">ChatBot</div>
              <div class="message-text">Welcome! How can I assist you today?</div>
            </div>
          </div>
          <div class="chat-input">
            <input type="text" id="user-input" placeholder="Enter your question">
             <div class="span-container">
              <button class="butn" id="send-button">Ask</button> 
              <button class="send-question"><embed src="./images/icons/link-2.svg" alt=""></button>
              <button class="upload"><embed src="./images/icons/image.svg" alt=""></button>
              <button class="record"><embed src="./images/icons/mic.svg" alt=""></button>
            </div>
          </div>
           
        </div>
          </nav>
    </section>

    <script>

    // Function to handle user input and generate bot response
    const handleUserInput = () => {
      const userInput = document.getElementById("user-input").value.trim().toLowerCase();
      if (userInput === "") return; // Ignore empty input
      
      // Create user message element
      appendMessage("User", userInput, "user-message");

      // Fetch bot response asynchronously
      fetchBotResponse(userInput);
      
      // Clear input field
      document.getElementById("user-input").value = "";
    };

    // Function to fetch bot response from external source (simulate for demonstration)
    const fetchBotResponse = (userInput) => {
      // Simulate asynchronous fetch (replace with actual API call)
      setTimeout(() => {
        const botResponse = generateBotResponse(userInput);
        typeResponseWithEffect(botResponse, "chat-container", "bot-message");
      }, 500); // Simulate 0.5 seconds delay
    };

    // Function to generate bot response based on user input (replace with actual response generation logic)
    const generateBotResponse = (userInput) => {
      // Example response logic (replace with actual implementation)
      const responses = {
        "hello": "Hi there! How can I help you today?",
        "how are you?": "I'm doing well, thank you! What can I assist you with?",
        // Add more response mappings here
      };

      return responses[userInput] || "I'm sorry, I don't understand that question.";
    };

    // Function to type response with typing effect
    function typeResponseWithEffect(responseText, targetElementId, className = "bot-message") {
      const targetElement = document.getElementById(targetElementId);
      if (!targetElement) {
        console.error("Error: Target element not found!");
        return;
      }

      const message = document.createElement("div");
      message.classList.add("message", className);
      targetElement.appendChild(message);

      const messageSender = document.createElement("div");
      messageSender.classList.add("message-sender");
      messageSender.textContent = "ChatBot";
      message.appendChild(messageSender);

      const messageText = document.createElement("div");
      messageText.classList.add("message-text", "typing");
      message.appendChild(messageText);

      let i = 0;
      const typingLoop = () => {
        if (i < responseText.length) {
          messageText.textContent += responseText[i];
          i++;
          setTimeout(typingLoop, 50);
        } else {
          // Remove typing effect after typing is done
          messageText.classList.remove("typing");
          // Scroll to bottom of chat container
          targetElement.scrollTop = targetElement.scrollHeight;
        }
      };

      typingLoop();
    }

    // Function to append a message to the chat container
    const appendMessage = (sender, text, className) => {
      const chatContainer = document.getElementById("chat-container");
      const message = document.createElement("div");
      message.classList.add("message", className);
      message.innerHTML = `
        <div class="message-sender">${sender}</div>
        <div class="message-text">${text}</div>
      `;
      chatContainer.appendChild(message);

      // Scroll to bottom of chat container
      chatContainer.scrollTop = chatContainer.scrollHeight;
    };

    // Attach event listener to send button
    document.getElementById("send-button").addEventListener("click", handleUserInput);

    // Optional: Attach event listener to input field for pressing Enter key
    document.getElementById("user-input").addEventListener("keypress", (event) => {
      if (event.key === "Enter") {
        handleUserInput();
      }
    });


    </script>
     <!------------------ spiner *start* -------------->




<div class="loader"></div>
<script>
  window.addEventListener("load", ()=>{
    const loader =document.querySelector(".loader");

    loader.classList.add("loader-hidden");
        loader.addEventListener("transtionend",()=>{
            document.body.removeChild("loader")
        })
    
   
})
</script>



<!------------------ spiner *end* -------------->
</body>
</html>